<!doctype html>
<meta charset="utf-8">
<title>Generador de iconos PWA (Aurora)</title>
<style>
  body{font-family:system-ui,Segoe UI,Inter,Roboto,Arial;padding:24px}
  button{padding:10px 14px;border-radius:10px;border:1px solid #dfe3ea;cursor:pointer;font-weight:700}
  canvas{display:none}
</style>
<h1>Iconos PWA â€” Aurora</h1>
<p>Genera 4 PNGs: <b>maskable-192/512</b> (Android, con fondo) y <b>icon-192/512</b> (PC, transparente).</p>
<button id="go">Descargar 4 PNGs</button>
<script>
function roundedRect(ctx, x,y,w,h,r){ctx.beginPath();ctx.moveTo(x+r,y);ctx.arcTo(x+w,y,x+w,y+h,r);ctx.arcTo(x+w,y+h,x,y+h,r);ctx.arcTo(x,y+h,x,y,r);ctx.arcTo(x,y,x+w,y,r);ctx.closePath();}
function drawAurora(ctx,w,h){
  const g1=ctx.createRadialGradient(.12*w,.12*h,0,.12*w,.12*h,.5*w); g1.addColorStop(0,"rgba(174,229,255,.60)"); g1.addColorStop(1,"rgba(174,229,255,0)");
  const g2=ctx.createRadialGradient(.88*w,.18*h,0,.88*w,.18*h,.45*w); g2.addColorStop(0,"rgba(201,183,255,.55)"); g2.addColorStop(1,"rgba(201,183,255,0)");
  const g3=ctx.createRadialGradient(.84*w,.84*h,0,.84*w,.84*h,.55*w); g3.addColorStop(0,"rgba(165,255,233,.45)"); g3.addColorStop(1,"rgba(165,255,233,0)");
  const g4=ctx.createRadialGradient(.18*w,.86*h,0,.18*w,.86*h,.52*w); g4.addColorStop(0,"rgba(255,127,80,.18)"); g4.addColorStop(1,"rgba(255,127,80,0)");
  ctx.fillStyle=g1; ctx.fillRect(0,0,w,h); ctx.fillStyle=g2; ctx.fillRect(0,0,w,h);
  ctx.fillStyle=g3; ctx.fillRect(0,0,w,h); ctx.fillStyle=g4; ctx.fillRect(0,0,w,h);
  // rim light
  ctx.save(); ctx.globalAlpha=.24; ctx.strokeStyle="#fff"; ctx.lineWidth=2; roundedRect(ctx,1,1,w-2,h-2,Math.round(w*0.18)); ctx.stroke(); ctx.restore();
}
function drawCross(ctx,w,h,color="#fff"){
  const s=Math.min(w,h)*0.42, t=s*0.32, cx=w/2, cy=h/2, r=t/2;
  ctx.fillStyle=color; roundedRect(ctx,cx-t/2,cy-s/2,t,s,r); ctx.fill(); roundedRect(ctx,cx-s/2,cy-t/2,s,t,r); ctx.fill();
}
function makeMaskable(size){
  const c=document.createElement("canvas"); c.width=c.height=size; const ctx=c.getContext("2d");
  // background
  ctx.clearRect(0,0,size,size);
  ctx.save(); roundedRect(ctx,2,2,size-4,size-4,Math.round(size*0.18)); ctx.clip(); drawAurora(ctx,size,size); ctx.restore();
  drawCross(ctx,size,size,"rgba(255,255,255,.94)");
  return c;
}
function makeTransparent(size){
  const c=document.createElement("canvas"); c.width=c.height=size; const ctx=c.getContext("2d");
  ctx.clearRect(0,0,size,size);
  // soft shadow
  ctx.save(); ctx.filter="blur("+Math.round(size*0.02)+"px)"; drawCross(ctx,size,size,"rgba(0,0,0,.35)"); ctx.restore();
  drawCross(ctx,size,size,"#fff");
  return c;
}
function downloadCanvas(canvas, name){ canvas.toBlob(b=>{ const a=document.createElement("a"); a.href=URL.createObjectURL(b); a.download=name; a.click(); setTimeout(()=>URL.revokeObjectURL(a.href),500); }, "image/png"); }
document.getElementById("go").onclick=()=>{
  const m192=makeMaskable(192), m512=makeMaskable(512);
  const a192=makeTransparent(192), a512=makeTransparent(512);
  downloadCanvas(a192,"icon-192.png");
  downloadCanvas(a512,"icon-512.png");
  downloadCanvas(m192,"maskable-192.png");
  downloadCanvas(m512,"maskable-512.png");
  alert("Descargados: icon-192.png, icon-512.png, maskable-192.png, maskable-512.png");
};
</script>
